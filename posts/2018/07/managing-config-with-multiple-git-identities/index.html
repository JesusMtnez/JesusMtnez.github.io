<!DOCTYPE html>
<html lang="en">

<head>
  <title>
  Managing configuration with multiple git identities · JesusMtnez
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Jesús Martínez-B. H.">
<meta name="description" content="Git is a versioning control system tools for source code that we can find anywhere nowadays. I use it for almost everything: managing my dotfiles, in all my personal projects and, of course, at work. But using git at work, where it is very common to have multiple identities, could be quite tedious.
Problem Link to heading I use GitLab to manage all my personal projects, with a automatic mirror to my GitHub account.">
<meta name="keywords" content="blog,developer,personal">

<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Managing configuration with multiple git identities"/>
<meta name="twitter:description" content="Git is a versioning control system tools for source code that we can find anywhere nowadays. I use it for almost everything: managing my dotfiles, in all my personal projects and, of course, at work. But using git at work, where it is very common to have multiple identities, could be quite tedious.
Problem Link to heading I use GitLab to manage all my personal projects, with a automatic mirror to my GitHub account."/>

<meta property="og:title" content="Managing configuration with multiple git identities" />
<meta property="og:description" content="Git is a versioning control system tools for source code that we can find anywhere nowadays. I use it for almost everything: managing my dotfiles, in all my personal projects and, of course, at work. But using git at work, where it is very common to have multiple identities, could be quite tedious.
Problem Link to heading I use GitLab to manage all my personal projects, with a automatic mirror to my GitHub account." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://jesusmtnez.es/posts/2018/07/managing-config-with-multiple-git-identities/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-07-31T00:00:00+00:00" />
<meta property="article:modified_time" content="2018-07-31T00:00:00+00:00" />





<link rel="canonical" href="https://jesusmtnez.es/posts/2018/07/managing-config-with-multiple-git-identities/">


<link rel="preload" href="https://jesusmtnez.es/fonts/forkawesome-webfont.woff2?v=1.2.0" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="https://jesusmtnez.es/css/coder.min.e1bdf152d93b060b06ba5d496486ed9c201a8b95d335e035beb5faebe3b61cad.css" integrity="sha256-4b3xUtk7BgsGul1JZIbtnCAai5XTNeA1vrX66&#43;O2HK0=" crossorigin="anonymous" media="screen" />






  
    
    
    <link rel="stylesheet" href="https://jesusmtnez.es/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css" integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8=" crossorigin="anonymous" media="screen" />
  



 




<link rel="icon" type="image/svg+xml" href="https://jesusmtnez.es/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="https://jesusmtnez.es/img/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="https://jesusmtnez.es/img/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="https://jesusmtnez.es/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="https://jesusmtnez.es/images/apple-touch-icon.png">

<link rel="manifest" href="https://jesusmtnez.es/site.webmanifest">
<link rel="mask-icon" href="https://jesusmtnez.es/images/safari-pinned-tab.svg" color="#5bbad5">









</head>






<body class="preload-transitions colorscheme-dark">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="https://jesusmtnez.es/">
      JesusMtnez
    </a>
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link" href="https://jesusmtnez.es/posts/">Blog</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="https://jesusmtnez.es/resume/">Resume</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="https://jesusmtnez.es/posts/2018/07/managing-config-with-multiple-git-identities/">
              Managing configuration with multiple git identities
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa fa-calendar" aria-hidden="true"></i>
              <time datetime="2018-07-31T00:00:00Z">
                July 31, 2018
              </time>
            </span>
            <span class="reading-time">
              <i class="fa fa-clock-o" aria-hidden="true"></i>
              3-minute read
            </span>
          </div>
          
          <div class="categories">
  <i class="fa fa-folder" aria-hidden="true"></i>
    <a href="https://jesusmtnez.es/categories/git/">Git</a></div>

          <div class="tags">
  <i class="fa fa-tag" aria-hidden="true"></i>
    <span class="tag">
      <a href="https://jesusmtnez.es/tags/git/">git</a>
    </span>
      <span class="separator">•</span>
    <span class="tag">
      <a href="https://jesusmtnez.es/tags/vcs/">vcs</a>
    </span>
      <span class="separator">•</span>
    <span class="tag">
      <a href="https://jesusmtnez.es/tags/programming/">programming</a>
    </span>
      <span class="separator">•</span>
    <span class="tag">
      <a href="https://jesusmtnez.es/tags/configuration/">configuration</a>
    </span>
      <span class="separator">•</span>
    <span class="tag">
      <a href="https://jesusmtnez.es/tags/dotfiles/">dotfiles</a>
    </span>
      <span class="separator">•</span>
    <span class="tag">
      <a href="https://jesusmtnez.es/tags/config/">config</a>
    </span></div>

        </div>
      </header>

      <div class="post-content">
        
        <p>Git is a versioning control system tools for source code that we can find anywhere nowadays. I use it for almost everything: managing my <a href="https://gitlab.com/JesusMtnez/dotfiles"  class="external-link" target="_blank" rel="noopener">dotfiles</a>, in all my personal projects and, of course, at work. But using <em>git</em> at work, where it is very common to have multiple identities, could be quite tedious.</p>
<img style="display: block; margin-left: auto; margin-right: auto" src="https://jesusmtnez.es/images/git-logo.png">
<h1 id="problem">
  Problem
  <a class="heading-link" href="#problem">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>I use <a href="https://gitlab.com/JesusMtnez"  class="external-link" target="_blank" rel="noopener">GitLab</a> to manage all my personal projects, with a automatic mirror to my <a href="https://github.com/JesusMtnez"  class="external-link" target="_blank" rel="noopener">GitHub</a> account. In both services I have used the same username and email to make it easy to configure <em>git</em>. I just need to add that information to my <code>~/.gitconfig</code></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-toml" data-lang="toml"><span style="display:flex;"><span>[<span style="color:#e06c75">user</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">name</span> = <span style="color:#e06c75">JesusMtnez</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">email</span> = <span style="color:#98c379">&#34;jesusmartinez93@gmail.com&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>But nowadays I&rsquo;m working in a company where I have to collaborate with multiple clients. It is very common that each client requires an email account in its company domain, which has to be used to author commits. To configure it, I used to set the specific email account per repository, overriding my personal email account.</p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>$ <span style="color:#e5c07b">cd</span> ~/workspaces/client01/repository
</span></span><span style="display:flex;"><span>$ git config --local user.email jesus@client01.com
</span></span></code></pre></td></tr></table>
</div>
</div><p>Making these configuration one or two times manually is no problem, but in the end clients tend to have multiple repositories (tons of them in some cases), making difficult to know which ones were properly configured and which not. To fix it, I made an interactive <em>rebase</em> just to change commit&rsquo;s author.</p>
<h1 id="solution">
  Solution
  <a class="heading-link" href="#solution">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>Since version 2.13, git includes a feature for <strong>conditional includes</strong>, allowing users to load configuration files depending where the user is in the shell session. Syntax looks like:</p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-toml" data-lang="toml"><span style="display:flex;"><span>[<span style="color:#e06c75">includeIf</span> <span style="color:#98c379">&#34;gitdir:/path/group/repo&#34;</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">path</span> = /<span style="color:#e06c75">path</span>/<span style="color:#e06c75">to</span>/<span style="color:#e06c75">config</span>/<span style="color:#e06c75">file</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li><code>gitdir:</code>: defines the condition to load the file. It could be done in two different ways:
<ul>
<li><code>gitdir:/path/group/repo</code>: it will load the file when the shell session is located at repository <code>/path/group/repo/</code></li>
<li><code>gitdir:/path/group</code>: it will load the file when the shell session is located at any repository in  <code>/path/group</code></li>
</ul>
</li>
<li><code>path</code> path to file to load. It could be an absolute location or a file name. In the last case, it will be search at the repository or at <code>$HOME</code> if missing.</li>
</ul>
<p>To solve the issue:</p>
<ul>
<li>Create a file <code>.gitconfig</code> in each client workspace containing its specific configuration:</li>
</ul>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>$ cat  ~/workspaces/client01/.gitconfig
</span></span><span style="display:flex;"><span><span style="color:#56b6c2">[</span>user<span style="color:#56b6c2">]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">email</span> <span style="color:#56b6c2">=</span> jesus@client01.com
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ cat ~/workspaces/client02/.gitconfig
</span></span><span style="display:flex;"><span><span style="color:#56b6c2">[</span>user<span style="color:#56b6c2">]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">email</span> <span style="color:#56b6c2">=</span> jesus@client01.com
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>Add conditional include in my global configuration to active those configuration when working on clients repositories. To do that, I added the following code to my <code>$HOME/.gitconfig</code>:</li>
</ul>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-toml" data-lang="toml"><span style="display:flex;"><span>[<span style="color:#e06c75">includeIf</span> <span style="color:#98c379">&#34;gitdir:~/workspaces/client01/&#34;</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">path</span> = ~/<span style="color:#e06c75">workspaces</span>/<span style="color:#e06c75">client01</span>/.<span style="color:#e06c75">gitconfig</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#e06c75">includeIf</span> <span style="color:#98c379">&#34;gitdir:~/workspaces/client02/&#34;</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">path</span> = ~/<span style="color:#e06c75">workspaces</span>/<span style="color:#e06c75">client02</span>/.<span style="color:#e06c75">gitconfig</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Doing that, each time I go inside one the repositories inside <code>~/workspaces/client01</code>, <code>~/workspaces/client01/.gitconfig</code> file is loaded and applied. The same goes for <code>client02</code>.</p>

      </div>


      <footer>
        


        <div id="disqus_thread"></div>
<script>
  window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "jesusmtnez-gitlab-blog" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
    
    document.addEventListener('themeChanged', function (e) { 
        if (document.readyState == 'complete') {
          DISQUS.reset({ reload: true, config: disqus_config });
        }
    });
</script>
        
        
        
        
      </footer>
    </article>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css"
    integrity="sha384-vKruj+a13U8yHIkAyGgK1J3ArTLzrFGBbBc0tDp4ad/EyewESeXE/Iv67Aj8gKZ0" crossorigin="anonymous">
  
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.js"
    integrity="sha384-PwRUT/YqbnEjkZO0zZxNqcxACrXe+j766U2amXcgMg5457rve2Y7I6ZJSm2A0mS4" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/contrib/auto-render.min.js"
    integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"
    onload="renderMathInElement(document.body,
      {
        delimiters: [
          {left: '$$', right: '$$', display:true},
          {left: '$', right: '$', display:false},
          {left: '\\(', right: '\\)', display: false},
          {left: '\\[', right: '\\]', display: true}
        ]
      }
    );"></script>
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    ©
    
      2017 -
    
    2024
     Jesús Martínez-B. H. 
    ·
    
    Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/" target="_blank" rel="noopener">Coder</a>.
    
  </section>
</footer>

  </main>

  

  
  
  <script src="https://jesusmtnez.es/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js" integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script>
  

  

  


  
<script>
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-121213323-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

  

  

  

  

  

  

  

  

  

  

  

  

  

  
</body>

</html>
